(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28a23fae"],{"060f":function(e,t,n){},"838f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",attrs:{id:"side_management"}},[n("div",{attrs:{id:"up"}},[n("input",{ref:"sideUploadInput",staticClass:"sideUploadInput",attrs:{type:"file",accept:".side",multiple:""},on:{change:e.inputChange}}),n("div",{staticClass:"drop",class:e.over,on:{drop:function(t){return t.preventDefault(),e.handleDrop(t)},dragover:e.dragOver,dragleave:e.handleLeave,mouseover:e.handleOver,mouseleave:e.handleLeave,click:function(t){return e.$refs.sideUploadInput.click()}}},[n("i",{staticClass:"el-icon-upload"}),e._v(" Drop Side files here or click "),n("el-button",{attrs:{type:"primary"}},[e._v(" Select ")])],1),n("ul",e._l(e.files,(function(t){return n("li",{key:t.name,staticClass:"el-upload-list__item is-success",staticStyle:{"list-style":"none"}},[n("a",{staticClass:"el-upload-list__item-name",staticStyle:{color:"#1890ff"}},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+" "),Object.keys(e.currentAllSide).includes(t.name)?n("i",[e._v(" (已存在的檔案，上傳將覆蓋。)")]):e._e()]),e._m(0,!0),n("i",{staticClass:"el-icon-close",on:{click:function(n){return e.rmUpload(t)}}})])})),0)]),n("el-button",{attrs:{type:"primary",disabled:!e.files.length},on:{click:e.handleUpload}},[e._v(" 上傳 ")]),n("hr"),n("div",{attrs:{id:"down"}},[n("div",[n("el-button",{attrs:{type:"primary",disabled:!Object.values(e.currentAllSide).some((function(e){return!0===e}))},on:{click:e.addAllSide}},[e._v("全部移入刪除區")]),n("h1",[e._v("已存在的檔案")]),n("ul",[e._l(e.currentAllSide,(function(t,i){return[!0===t?n("li",{key:i,staticClass:"el-upload-list__item is-success"},[n("el-button",{attrs:{type:"success"},on:{click:function(t){return e.downloadFile(i)}}},[e._v("下載")]),n("a",{staticClass:"el-upload-list__item-name"},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(i))]),e._m(1,!0),n("i",{staticClass:"el-icon-close",on:{click:function(t){return e.rmSide(i)}}})],1):e._e()]}))],2)],1),n("div",[n("el-button",{attrs:{type:"primary",disabled:!Object.values(e.currentAllSide).some((function(e){return!1===e}))},on:{click:e.rmAllSide}},[e._v("全部移出刪除區")]),n("h1",[e._v("將刪除檔案")]),n("ul",[e._l(e.currentAllSide,(function(t,i){return[!1===t?n("li",{key:i,staticClass:"el-upload-list__item is-success"},[n("a",{staticClass:"el-upload-list__item-name"},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(i))]),e._m(2,!0),n("i",{staticClass:"el-icon-close",on:{click:function(t){return e.addSide(i)}}})]):e._e()]}))],2)],1)]),n("el-button",{attrs:{type:"danger",disabled:!Object.values(e.currentAllSide).some((function(e){return!1===e}))},on:{click:e.handleDelete}},[e._v(" 刪除選擇的腳本(.side) ")])],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})])}],l=n("d198"),a=n("7580"),c=n("26a3"),r=(n("99af"),n("a434"),n("d3b7"),n("159b"),n("4fad"),n("d81d"),n("b0c0"),n("caad"),n("2532"),n("a15b"),n("4de4"),n("ac1f"),n("00b4"),{name:"SeleniumIdeUpload",data:function(){return{files:[],currentAllSide:{},over:""}},created:function(){this.fetchAllSide()},methods:{downloadFile:function(e){window.open("".concat(this.$origin).concat(this.$serverRoute.DOWNLOAD_SIDE_FILE.route,"/").concat(e))},rmUpload:function(e){this.files.splice(this.files.indexOf(e),1)},addAllSide:function(){var e=this;Object.entries(this.currentAllSide).forEach((function(t){var n=Object(c["a"])(t,2),i=n[0],s=n[1];!0===s&&(e.currentAllSide[i]=!1)}))},rmAllSide:function(){var e=this;Object.entries(this.currentAllSide).forEach((function(t){var n=Object(c["a"])(t,2),i=n[0],s=n[1];!1===s&&(e.currentAllSide[i]=!0)}))},addSide:function(e){this.currentAllSide[e]=!0},rmSide:function(e){this.currentAllSide[e]=!1},handleFiles:function(e){var t=this,n=[],i=this.files.map((function(e){return e.name}));e.forEach((function(e){t.isSide(e)?i.includes(e.name)||(t.files.push(e),i.push(e.name)):n.push(e.name)})),n.length&&this.$message.error("This type not is .side (".concat(n.join(", "),")")),this.$refs.sideUploadInput.value=null,this.over=""},handleDrop:function(e){e.stopPropagation(),e.preventDefault(),this.handleFiles(e.dataTransfer.files)},dragOver:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",this.handleOver()},handleOver:function(){this.over="mouse-over"},handleLeave:function(){this.over=""},inputChange:function(){this.handleFiles(this.$refs.sideUploadInput.files)},fetchAllSide:function(){var e=this;return Object(a["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$request(e.$serverRoute.CURRENT_ALL_SIDE.route);case 2:e.currentAllSide=t.sent;case 3:case"end":return t.stop()}}),t)})))()},handleUpload:function(){var e=this;return Object(a["a"])(Object(l["a"])().mark((function t(){var n,i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.files.length){t.next=7;break}return n=new FormData,e.files.forEach((function(e){n.append(e.name,e)})),t.next=5,e.$request(e.$serverRoute.UPLOAD_SIDE_FILES.route,n);case 5:i=t.sent,i&&(e.currentAllSide=i,e.$message.info("上傳完成"),e.files=[]);case 7:case"end":return t.stop()}}),t)})))()},handleDelete:function(){var e=this;return Object(a["a"])(Object(l["a"])().mark((function t(){var n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$deleteFiles(e.$serverRoute.DELETE_SIDE_FILES.route,Object.entries(e.currentAllSide).filter((function(e){return!1===e[1]})).map((function(e){return e[0]})));case 2:if(n=t.sent,!n){t.next=7;break}return t.next=6,e.$request(e.$serverRoute.CURRENT_ALL_SIDE.route);case 6:e.currentAllSide=t.sent;case 7:case"end":return t.stop()}}),t)})))()},isSide:function(e){return/\.side$/.test(e.name)}}}),u=r,o=(n("ce8d"),n("2877")),d=Object(o["a"])(u,i,s,!1,null,"28a762f4",null);t["default"]=d.exports},ce8d:function(e,t,n){"use strict";n("060f")}}]);